<div class="container">
  <mat-card>
    <mat-card-title>Beer chooser</mat-card-title>
    <mat-card-content>
      <mat-progress-bar *ngIf="isBusy" color="accent" mode="indeterminate"></mat-progress-bar>

      <div>
        <mat-form-field>
          <input type="email" matInput [(ngModel)]="email" placeholder="Please enter your email adress">
        </mat-form-field>
      </div>

      <div>
        <mat-form-field>
          <mat-select [(ngModel)]="selectedBeer" placeholder="Please choose a beer" [disabled]="isBusyRequestingBeer">
            <mat-option *ngFor="let b of beers" [value]="b.name">{{b.name}}</mat-option>
          </mat-select>
        </mat-form-field>
      </div>
      <button *ngIf="!isBusyRequestingBeer" mat-raised-button color="primary" [disabled]="!selectedBeer || !email" (click)="onRequestBeer()">Request beer</button>
      <mat-progress-spinner *ngIf="isBusyRequestingBeer" diameter="32" mode="indeterminate" color="accent"></mat-progress-spinner>
    </mat-card-content>
  </mat-card>
</div>